

<p>{{ nome }} - {{ idade }} anos</p>


@for (p of produtos; track $index) {
  <li>{{ p }}</li>
}


<p>Coordenada X: {{ coordenada[0] }}</p>
<p>Coordenada Y: {{ coordenada[1] }}</p>

<div>
  <h4>{{ post.titulo }}</h4>
  <small>
    por {{ post.autor }} em {{ post.data }}
  </small>
  <p>{{ post.conteudo }}</p>
</div>

<div class="container">
  <h3>Lista de Posts</h3>

  @for (p of posts; track p.id) {
    <div>
      <h4>{{ p.titulo }}</h4>
      <small>
        por {{ p.autor }} em {{ p.data }}
      </small>
      <p class="mt-2">{{ p.conteudo }}</p>
    </div>
  } @empty {
    <p>Nenhum post encontrado.</p>
  }
</div>


<p>{{prod.nome}} - {{ prod.estoque }}</p>




<div class="container py-3">
  <h3>any, unknown e never (demonstração prática)</h3>

  <div class="mb-3">
    <label class="form-label">Digite algo (número ou texto):</label>
    <input class="form-control" [(ngModel)]="entrada" placeholder="Ex.: 42 ou Olá">
  </div>

  <div class="d-flex gap-2 mb-4">
    <button class="btn btn-primary" (click)="setAny()">Atribuir ao any</button>
    <button class="btn btn-secondary" (click)="setUnknown()">Atribuir ao unknown</button>
    <button class="btn btn-outline-danger" (click)="falhar('Exemplo de never: erro proposital')">
      Disparar never (erro)
    </button>
  </div>

  <div class="row g-3">
    <!-- Bloco any -->
    <div class="col-md-6">
      <div class="card p-3 h-100">
        <h5>Tipo <code>any</code></h5>
        <p>Valor atual (pode ser qualquer coisa): <strong>{{ valorAny }}</strong></p>

        <!-- Perigoso: o template deixa, mas pode quebrar se não for string -->
        <p class="text-muted small">
          {{ toUpperIfPossible(valorAny) }}
        </p>

        <div class="alert alert-warning mb-0">
          <strong>Atenção:</strong> <code>any</code> ignora a tipagem.
          Compila, mas pode falhar em runtime.
        </div>
      </div>
    </div>

    <!-- Bloco unknown -->
    <div class="col-md-6">
      <div class="card p-3 h-100">
        <h5>Tipo <code>unknown</code></h5>
        <p>Valor atual (precisa de narrowing): <strong>{{ valorUnknown }}</strong></p>

        <!-- Uso correto: chamar métodos que fazem narrowing -->
        @if (toUpperIfString(valorUnknown) !== null) {
          <p>Como string (upper): <code>{{ toUpperIfString(valorUnknown) }}</code></p>
        }

        @if (toFixedIfNumber(valorUnknown) !== null) {
          <p>Como number (fix 2): <code>{{ toFixedIfNumber(valorUnknown) }}</code></p>
        }

        <div class="alert alert-info mb-0">
          <strong>Boa prática:</strong> com <code>unknown</code>, sempre faça
          checagens de tipo (<em>type guards</em>) antes de usar.
        </div>
      </div>
    </div>
  </div>
</div>
